(this["webpackJsonpseat-master"]=this["webpackJsonpseat-master"]||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),s=n.n(c),i=(n(87),n(88),n(29)),o=n(15),l=n(8),d=n(1),j=r.a.createContext(null),u=function(e){var t=e.user,n=e.children,r=Object(a.useState)(t),c=Object(l.a)(r,2),s=c[0],i=c[1];return Object(d.jsx)(j.Provider,{value:{currentUser:s,setCurrentUser:i},children:n})},b=function(){return r.a.useContext(j)},h=n(7),O=n.n(h),x=n(10),p=n(124),m=n(133),f=n(134),v=n(2),g=n(131),S=n(132),w=n(58),y=n(91).default,k=function(e){var t={headers:Object(v.a)({"Content-Type":"application/json"},e&&{Authorization:e})};return console.log("config: ",t),t},C={get:function(){var e=Object(x.a)(O.a.mark((function e(t,n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Getting with url: ",t),a=k(n),e.prev=2,e.next=5,y.get(t,a);case 5:return r=e.sent,console.log("Get response",r),e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(2),console.error("error in Get response",e.t0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}(),post:function(){var e=Object(x.a)(O.a.mark((function e(t,n,a){var r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k(a),console.log("Posting with url: ",t),console.log("Posting with params: ",n),e.prev=3,e.next=6,y.post(t,n,r);case 6:return c=e.sent,console.log("Post response",c),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(3),console.error("error in Post response",e.t0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n,a){return e.apply(this,arguments)}}(),put:function(){var e=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},N=n(20),T=n(35),I=n.n(T);var A=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),r=n[0],c=n[1],s=b().setCurrentUser,i=Object(N.a)(),j=i.register,u=i.handleSubmit,h=i.reset,p=i.formState.errors,m=e.showSignUpModal,f=e.handleCloseSignUp,y=Object(a.useState)(""),k=Object(l.a)(y,2),T=k[0],A=k[1],M="".concat("http://localhost:9876","/signup"),U="".concat("http://localhost:9876","/login"),L=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,a,r,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={user:{email:t.email,password:t.password}},e.prev=1,e.next=4,C.post(M,n);case 4:if(a=e.sent,400!==I.a.get(a,"response.status")){e.next=9;break}return A(t.email),h(),e.abrupt("return");case 9:return e.prev=9,e.next=12,C.post(U,n);case 12:r=e.sent,i={id:I.a.get(r,"data.user.id"),email:I.a.get(r,"data.user.email"),authToken:I.a.get(r,"headers.authorization")},s(i),sessionStorage.setItem("user",JSON.stringify(i)),f(),i&&c("/Klasses"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),console.log("error in login block of Sign Up component",e.t0);case 23:f(),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),console.log("error in Sign Up block of Sign Up component",e.t1);case 29:case"end":return e.stop()}}),e,null,[[1,26],[9,20]])})));return function(t){return e.apply(this,arguments)}}();return r?Object(d.jsx)(o.a,{to:r}):Object(d.jsx)(g.a,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:m,onHide:f,children:Object(d.jsxs)(S.a,{onSubmit:u(L),children:[Object(d.jsxs)(g.a.Header,{children:[Object(d.jsx)(g.a.Title,{children:"SignUp"}),Object(d.jsx)("p",{children:"It's quick and easy"})]}),Object(d.jsxs)(g.a.Body,{children:[Object(d.jsxs)(S.a.Group,{className:"mb-3",children:[Object(d.jsx)(S.a.Control,Object(v.a)({type:"email",placeholder:"email",required:!0,onFocus:function(){A("")}},j("email",{required:!0}))),T&&Object(d.jsxs)("p",{children:["Oops. Looks like ",T," already has an account.  Try a different email."]})]}),Object(d.jsxs)(S.a.Group,{className:"mb-3",children:[Object(d.jsx)(S.a.Control,Object(v.a)({type:"password",placeholder:"new password",required:!0},j("password",{required:!0,minLength:{value:4,message:"Password must be at least 5 characters"}}))),p.password&&"minLength"===p.password.type&&Object(d.jsx)("p",{children:p.password.message})]})]}),Object(d.jsxs)(g.a.Footer,{children:[Object(d.jsx)("div",{children:Object(d.jsx)(w.a,{variant:"secondary",onClick:function(){f(),A(""),h()},children:"Close"})}),Object(d.jsx)("div",{className:"row justify-content-center",children:Object(d.jsx)(w.a,{type:"submit",variant:"primary",children:"Sign Up"})})]})]})})};var M=function(e){var t=Object(a.useState)(null),n=Object(l.a)(t,2),r=n[0],c=n[1],s=b().setCurrentUser,i=Object(a.useState)(""),j=Object(l.a)(i,2),u=j[0],h=j[1],p=e.handleCloseLogIn,m=e.showLogInModal,f=Object(N.a)(),y=f.register,k=f.handleSubmit,T=f.reset,A=f.formState.errors,M=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,a,r,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("http://localhost:9876","/login"),a={user:{email:t.email,password:t.password}},e.prev=2,e.next=5,C.post(n,a);case 5:if(401!==(r=e.sent).status){e.next=10;break}return h(r.error),T(),e.abrupt("return");case 10:i={id:I.a.get(r,"data.user.id"),email:I.a.get(r,"data.user.email"),authToken:I.a.get(r,"headers.authorization")},s(i),sessionStorage.setItem("user",JSON.stringify(i)),p(),i&&c("/Klasses"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.log("error in LoginComponent",e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();return r?Object(d.jsx)(o.a,{to:r}):Object(d.jsx)(g.a,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:m,onHide:p,children:Object(d.jsxs)(S.a,{onSubmit:k(M),children:[Object(d.jsx)(g.a.Header,{children:Object(d.jsx)(g.a.Title,{children:"Log In"})}),Object(d.jsxs)(g.a.Body,{children:[Object(d.jsx)(S.a.Group,{className:"mb-3",children:Object(d.jsx)(S.a.Control,Object(v.a)({type:"email",placeholder:"email",required:!0},y("email",{required:!0})))}),Object(d.jsxs)(S.a.Group,{className:"mb-3",children:[Object(d.jsx)(S.a.Control,Object(v.a)({type:"password",placeholder:"password",required:!0},y("password",{required:!0}))),A.password&&"minLength"===A.password.type&&Object(d.jsx)("p",{children:A.password.message}),u&&Object(d.jsx)("p",{children:u})]})]}),Object(d.jsxs)(g.a.Footer,{children:[Object(d.jsx)("div",{children:Object(d.jsx)(w.a,{variant:"secondary",onClick:function(){p(),T(),h("")},children:"Close"})}),Object(d.jsx)("div",{className:"row justify-content-center",children:Object(d.jsx)(w.a,{type:"submit",variant:"primary",children:"Log In"})})]})]})})};var U=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1],c=b(),s=c.currentUser,i=c.setCurrentUser,j=Object(a.useState)(!1),u=Object(l.a)(j,2),h=u[0],O=u[1],x=Object(a.useState)(!1),v=Object(l.a)(x,2),g=v[0],S=v[1];return n?Object(d.jsx)(o.a,{to:n}):Object(d.jsx)(p.a,{children:Object(d.jsxs)(m.a,{className:"navbarClass",expand:"lg",children:[Object(d.jsx)(m.a.Brand,{href:"/",className:"brand-fontColor oswald-font",children:"SeatMaster"}),Object(d.jsx)(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(d.jsxs)(m.a.Collapse,{id:"basic-navbar-nav",children:[Object(d.jsx)(f.a,{children:Object(d.jsx)(f.a.Item,{className:"d-flex align-items-center",children:Object(d.jsx)(f.a.Link,{className:"brand-fontColor oswald-font link-text-size ",children:"The Story"})})}),Object(d.jsxs)(f.a,{className:"ms-auto",children:[!s&&Object(d.jsx)(f.a.Item,{className:"d-flex align-items-center",children:Object(d.jsx)(f.a.Link,{className:"brand-fontColor oswald-font link-text-size",onClick:function(){O(!0)},children:"Sign Up"})}),!s&&Object(d.jsx)(f.a.Item,{className:"d-flex align-items-center",children:Object(d.jsx)(f.a.Link,{className:"brand-fontColor oswald-font link-text-size",onClick:function(){S(!0)},children:"Login"})}),s&&Object(d.jsx)(f.a.Item,{className:"d-flex align-items-center",children:Object(d.jsxs)(f.a.Link,{className:"brand-fontColor oswald-font link-text-size",children:[console.log("currentUser",s),Boolean(s)&&s.email]})}),s&&Object(d.jsx)(f.a.Item,{className:"d-flex align-items-center",children:Object(d.jsx)(f.a.Link,{className:"brand-fontColor oswald-font link-text-size ",onClick:function(){i(null),sessionStorage.setItem("user",null),r("/")},children:"Logout"})}),Object(d.jsx)(A,{handleCloseSignUp:function(){O(!1)},showSignUpModal:h}),Object(d.jsx)(M,{handleCloseLogIn:function(){S(!1)},showLogInModal:g})]})]})]})})};var L=function(e){var t=b().currentUser,n=e.showAddSchoolModal,a=e.handleCloseAddSchool,r=e.setSchool,c=e.school,s=Object(N.a)(),i=s.register,o=s.handleSubmit,l=s.reset,j=function(){var e=Object(x.a)(O.a.mark((function e(n){var c,s,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat("http://localhost:9876","/api/users/").concat(t.id,"/schools"),s={school:{name:n.name}},e.prev=2,e.next=5,C.post(c,s,t.authToken);case 5:if(i=e.sent,console.log(i),401!==i.status){e.next=10;break}return l(),e.abrupt("return");case 10:r(i.data.data.attributes),a(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("Err in Add School",e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)(g.a,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:n,onHide:a,children:Object(d.jsxs)(S.a,{onSubmit:o(j),children:[Object(d.jsx)(g.a.Header,{children:Object(d.jsxs)(g.a.Title,{children:[c?"Change":"Add"," your school"]})}),Object(d.jsx)(g.a.Body,{children:Object(d.jsx)(S.a.Group,{className:"mb-3",children:Object(d.jsx)(S.a.Control,Object(v.a)({type:"string",placeholder:"name of school",required:!0},i("name",{required:!0})))})}),Object(d.jsxs)(g.a.Footer,{children:[Object(d.jsx)("div",{children:Object(d.jsx)(w.a,{variant:"secondary",onClick:function(){a(),l()},children:"Cancel"})}),Object(d.jsx)("div",{className:"row justify-content-center",children:Object(d.jsx)(w.a,{type:"submit",variant:"primary",children:c?"Change School":"Add School"})})]})]})})};var B=function(e){var t=b().currentUser,n=e.showAddKlassModal,a=e.handleCloseAddKlass,r=Object(N.a)(),c=r.register,s=r.handleSubmit,i=r.reset,o=function(){var e=Object(x.a)(O.a.mark((function e(n){var r,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat("http://localhost:9876","/api/users/").concat(t.id,"/schools"),c={school:{name:n.name}},e.prev=2,e.next=5,C.post(r,c,t.authToken);case 5:if(s=e.sent,console.log(s),401!==s.status){e.next=10;break}return i(),e.abrupt("return");case 10:a(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("Err in Add Klass",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)(g.a,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:n,onHide:a,children:Object(d.jsxs)(S.a,{onSubmit:s(o),children:[Object(d.jsx)(g.a.Header,{children:Object(d.jsx)(g.a.Title,{children:"Add your school"})}),Object(d.jsx)(g.a.Body,{children:Object(d.jsx)(S.a.Group,{className:"mb-3",children:Object(d.jsx)(S.a.Control,Object(v.a)({type:"string",placeholder:"name of school",required:!0},c("name",{required:!0})))})}),Object(d.jsxs)(g.a.Footer,{children:[Object(d.jsx)("div",{children:Object(d.jsx)(w.a,{variant:"secondary",onClick:function(){a(),i()},children:"Cancel"})}),Object(d.jsx)("div",{className:"row justify-content-center",children:Object(d.jsx)(w.a,{type:"submit",variant:"primary",children:"Save"})})]})]})})};var q=function(e){var t=e.school,n=e.handleShowAddSchool;return Object(d.jsx)(p.a,{children:Object(d.jsx)(m.a,{className:"navbarClass",expand:"lg",children:Object(d.jsxs)(f.a,{className:"ms-auto",children:[Object(d.jsx)(f.a.Item,{className:"d-flex align-items-center",style:{paddingRight:"24px"},children:Boolean(t)&&t.name}),Object(d.jsx)(f.a.Item,{children:Object(d.jsx)(w.a,{onClick:n,children:t?"Change School":"Add School"})})]})})})},z=n(125),F=n(79),G=n(135),H=n(126);var K=function(){var e=b().currentUser,t=Object(a.useRef)(!1),n=Object(a.useRef)(!1),c=Object(a.useState)([]),s=Object(l.a)(c,2),o=s[0],j=s[1],u=Object(a.useState)(null),h=Object(l.a)(u,2),m=h[0],f=h[1],v=Object(a.useState)(!1),g=Object(l.a)(v,2),S=g[0],y=g[1],k=Object(a.useState)(!1),N=Object(l.a)(k,2),T=N[0],I=N[1],A=function(){y(!0)},M=function(){var n=Object(x.a)(O.a.mark((function n(){var a,r;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.current){n.next=7;break}return a="".concat("http://localhost:9876","/schools"),n.next=4,C.get(a,e.authToken);case 4:(r=n.sent)&&r.data&&r.data[0]&&(f(r.data[0]),t.current=!0),r&&r.data&&0===r.data.length&&A();case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),K=function(){var t=Object(x.a)(O.a.mark((function t(){var a,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.current){t.next=7;break}return a="".concat("http://localhost:9876","/klasses"),t.next=4,C.get(a,e.authToken);case 4:r=t.sent,j(r.data),n.current=!0;case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return console.log("here are the school",m),Object(a.useEffect)((function(){M(),K()}),[M,K]),Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(U,{}),Object(d.jsx)(q,{school:m,handleShowAddSchool:A}),Object(d.jsxs)(p.a,{children:[Object(d.jsxs)(z.a,{children:[Object(d.jsx)(F.a,{md:3,children:Object(d.jsx)("h1",{className:"block-header",children:"My classes"})}),Object(d.jsx)(F.a,{className:"center-vertically",children:Object(d.jsx)(w.a,{variant:"outline-dark",onClick:function(){I(!0)},children:Object(d.jsx)(H.a,{size:25})})})]}),Object(d.jsx)(z.a,{className:"padding-top"}),Object(d.jsx)(z.a,{className:"klass-card-deck-style",children:Boolean(o)&&o.map((function(e){return Object(d.jsx)(i.b,{className:"klass-card-style",to:"/klasses/".concat(e.id),children:Object(d.jsx)(G.a,{className:"text-center",children:Object(d.jsx)(G.a.Body,{children:Object(d.jsx)(G.a.Title,{children:e.name})})})},e.id)}))})]}),Object(d.jsx)(L,{handleCloseAddSchool:function(){y(!1)},showAddSchoolModal:S,setSchool:f}),Object(d.jsx)(B,{handleCloseAddKlass:function(){I(!1)},showAddKlassModal:T,school:m})]})};var E=function(){return Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(U,{}),Object(d.jsx)(p.a,{className:"mt-5",children:Object(d.jsxs)(F.a,{children:[Object(d.jsx)("h1",{className:"text-center brand-main-text",children:"Improve Groupwork in your Classroom"}),Object(d.jsx)("p",{className:"text-center brand-tag-line",children:"Better seating. Better groupwork. Better teaching."})]})})]})};var J=function(){return Object(d.jsx)(p.a,{children:Object(d.jsx)("h2",{children:"Oops, nothing to see here!"})})},R=n(127),P=n(14),D=n(128);var V=function(e){var t=Object(a.useRef)(),n=Object(a.useState)([]),r=Object(l.a)(n,2),c=r[0],s=r[1],i=b().currentUser,o=e.showAddSeatingChartModal,j=e.handleCloseAddSeatingChart,u=e.klass,h=Object(a.useState)([]),m=Object(l.a)(h,2),f=m[0],y=m[1],k=Object(N.a)(),T=k.register,I=k.handleSubmit,A=k.reset,M=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={name:t.name,numberOfTables:t.number,metrics:f},console.log("data",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t=c[e-1];0===f.filter((function(e){return e.id===t.id})).length&&y((function(e){return[].concat(Object(P.a)(f),[e])}))},L=function(){var e=Object(x.a)(O.a.mark((function e(){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.current){e.next=7;break}return n="".concat("http://localhost:9876","/metrics"),e.next=4,C.get(n,i.authToken);case 4:a=e.sent,s(a.data),t.current=!0;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){L()}),[L]),Object(d.jsx)(g.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:o,onHide:j,children:Object(d.jsxs)(S.a,{onSubmit:I(M),children:[Object(d.jsx)(g.a.Header,{children:Object(d.jsx)(p.a,{children:Object(d.jsxs)(g.a.Title,{children:["Add Seating Chart for ",u.name," "]})})}),Object(d.jsx)(g.a.Body,{children:Object(d.jsxs)(p.a,{children:[Object(d.jsxs)(z.a,{children:[Object(d.jsx)(F.a,{xs:12,md:6,children:Object(d.jsxs)(S.a.Group,{children:[Object(d.jsx)(S.a.Label,{children:"Seating Chart Name"}),Object(d.jsx)(S.a.Control,Object(v.a)({type:"string",placeholder:"ex: leveled reading groups",required:!0},T("name",{required:!0})))]})}),Object(d.jsx)(F.a,{xs:6,md:3,children:Object(d.jsxs)(S.a.Group,{className:"mb-3",children:[Object(d.jsx)(S.a.Label,{children:"Number of tables"}),Object(d.jsx)(S.a.Control,Object(v.a)({type:"number",placeholder:"ex: 3",required:!0},T("number",{required:!0})))]})}),Object(d.jsx)(F.a,{xs:6,md:3,children:Object(d.jsx)(S.a.Group,{className:"mb-3",children:Object(d.jsx)(R.a,{title:"Add Metric",id:"basic-nav-dropdown",children:c&&c.map((function(e,t){return Object(d.jsx)(R.a.Item,{eventKey:e.id,onSelect:U,children:e.name},t)}))})})})]}),Object(d.jsx)(F.a,{children:"Metrics to add"}),Object(d.jsx)(F.a,{md:7,children:f.length>0&&f.map((function(e){return Object(d.jsx)(G.a,{children:Object(d.jsx)(G.a.Body,{children:Object(d.jsxs)(z.a,{children:[Object(d.jsx)(F.a,{children:Object(d.jsx)(G.a.Text,{children:e.name})}),Object(d.jsx)(F.a,{md:2,children:Object(d.jsx)("h4",{onClick:function(){var t;t=e.id,f.filter((function(e){return e.id!==t})),y((function(e){return Object(P.a)(e)}))},children:Object(d.jsx)(D.a,{})})})]})})},e.id)}))})]})}),Object(d.jsxs)(g.a.Footer,{children:[Object(d.jsx)("div",{children:Object(d.jsx)(w.a,{variant:"secondary",onClick:function(){j(),A()},children:"Cancel"})}),Object(d.jsx)("div",{className:"row justify-content-center",children:Object(d.jsx)(w.a,{type:"submit",variant:"primary",children:"Save"})})]})]})})};var Y=function(e){var t=e.showAddSeatingChartModal,n=e.handleCloseAddSeatingChart,a=Object(N.a)(),r=(a.register,a.handleSubmit),c=a.reset,s=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)(g.a,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:t,onHide:n,children:Object(d.jsxs)(S.a,{onSubmit:r(s),children:[Object(d.jsx)(g.a.Header,{children:Object(d.jsx)(g.a.Title,{children:"New Seating Chart for "})}),Object(d.jsxs)(g.a.Footer,{children:[Object(d.jsx)("div",{children:Object(d.jsx)(w.a,{variant:"secondary",onClick:function(){n(),c()},children:"Cancel"})}),Object(d.jsx)("div",{className:"row justify-content-center",children:Object(d.jsx)(w.a,{type:"submit",variant:"primary",children:"Save"})})]})]})})},Q=n(129);var W=function(e){var t=e.studentsMetricsScsTab,n=e.seatingCharts,r=e.setSeatingChart,c=e.klass,s=Object(a.useState)(!1),i=Object(l.a)(s,2),o=i[0],j=i[1],u=Object(a.useState)(!1),b=Object(l.a)(u,2),h=b[0],O=b[1],x=function(e){var t=n.filter((function(t){return t.id===Number(e)}))[0];r(t)};return Object(d.jsxs)(p.a,{children:[Object(d.jsx)(m.a,{className:"navbarClass",expand:"lg",children:Object(d.jsxs)(f.a,{className:"m-auto",children:[2===t&&Object(d.jsx)(f.a.Item,{className:"d-flex align-items-center ",children:Object(d.jsxs)(R.a,{title:"View Saved Seating Charts",id:"basic-nav-dropdown",children:[n&&n.map((function(e,t){return Object(d.jsx)(R.a.Item,{eventKey:e.id,onSelect:x,children:e.name},t)})),Object(d.jsx)(R.a.Divider,{}),Object(d.jsx)(R.a.Item,{eventKey:"4",onClick:function(){j(!0)},children:"Create New Seating Chart"})]})}),2===t&&Object(d.jsx)(f.a.Item,{className:"d-flex align-items-center ",children:Object(d.jsx)("h3",{onClick:function(){O(!0)},children:Object(d.jsx)(Q.a,{})})}),1===t&&Object(d.jsx)(F.a,{className:"center-vertically center-horizontally",children:Object(d.jsx)(w.a,{variant:"outline-dark",children:Object(d.jsx)(H.a,{size:25})})})]})}),Object(d.jsx)(V,{handleCloseAddSeatingChart:function(){j(!1)},showAddSeatingChartModal:o,klass:c}),Object(d.jsx)(Y,{handleCloseEditSeatingChart:function(){O(!1)},showEditSeatingChartModal:h})]})};var X=function(e){var t=b().currentUser,n=e.showAddStudentModal,a=e.handleCloseAddStudent,r=Object(N.a)(),c=r.register,s=r.handleSubmit,i=r.reset,o=function(){var e=Object(x.a)(O.a.mark((function e(n){var r,c,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat("http://localhost:9876","/api/users/").concat(t.id,"/schools"),c={school:{name:n.name}},e.prev=2,e.next=5,C.post(r,c,t.authToken);case 5:if(s=e.sent,console.log(s),401!==s.status){e.next=10;break}return i(),e.abrupt("return");case 10:a(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log("Err in Add Student",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)(g.a,{"aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:n,onHide:a,children:Object(d.jsxs)(S.a,{onSubmit:s(o),children:[Object(d.jsx)(g.a.Header,{children:Object(d.jsx)(g.a.Title,{children:"Add your school"})}),Object(d.jsx)(g.a.Body,{children:Object(d.jsx)(S.a.Group,{className:"mb-3",children:Object(d.jsx)(S.a.Control,Object(v.a)({type:"string",placeholder:"name of school",required:!0},c("name",{required:!0})))})}),Object(d.jsxs)(g.a.Footer,{children:[Object(d.jsx)("div",{children:Object(d.jsx)(w.a,{variant:"secondary",onClick:function(){a(),i()},children:"Cancel"})}),Object(d.jsx)("div",{className:"row justify-content-center",children:Object(d.jsx)(w.a,{type:"submit",variant:"primary",children:"Save"})})]})]})})};var Z=function(e){var t=e.klass;return Object(d.jsx)(p.a,{children:Object(d.jsx)(m.a,{className:"navbarClass",expand:"lg",children:Object(d.jsx)(f.a,{className:"m-auto",children:Object(d.jsx)(f.a.Item,{className:"d-flex align-items-center",children:Boolean(t)&&t.name})})})})},$=n(136),_=n(81);var ee=function(e){var t=e.setStudentsMetricsScsTab;return Object(d.jsx)(p.a,{children:Object(d.jsx)(m.a,{className:"navbarClass",expand:"lg",children:Object(d.jsx)(f.a,{className:"m-auto",children:Object(d.jsx)(f.a.Item,{className:"d-flex align-items-center ",children:Object(d.jsxs)($.a,{type:"radio",name:"options",defaultValue:1,onChange:function(e){console.log("val",e),1===e&&t(1),2===e&&t(2),3===e&&t(3)},children:[Object(d.jsx)(_.a,{id:"tbg-btn-1",value:1,children:"Students"}),Object(d.jsx)(_.a,{id:"tbg-btn-3",value:3,children:"Metrics"}),Object(d.jsx)(_.a,{id:"tbg-btn-2",value:2,children:"Seating Charts"})]})})})})})},te=n(130),ne=n(80);var ae=function(e){var t=e.metrics,n=e.metricsToShow,a=e.setMetricsToShow,r=function(e,t){var r,c=e.target.value;console.log({value:e.target.value,metric:t}),"1"===c&&(r=[].concat(Object(P.a)(n),[t])),"2"===c&&(r=n.filter((function(e){return e.id!==t.id}))),console.log("updatedMetrics",r),a(r)};console.log(r);var c=function(e){return n.find((function(t){return t.id===e.id}))?1:2};return Object(d.jsxs)(te.a,{striped:!0,bordered:!0,hover:!0,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Saved Metrics"}),Object(d.jsx)("th",{children:"Add Metric to Class?"}),Object(d.jsx)("th",{className:"text-center",children:"Delete Metric"})]})}),Object(d.jsx)("tbody",{children:t&&t.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:Object(d.jsxs)(ne.a,{children:[Object(d.jsx)(_.a,{type:"radio",name:"options",checked:1===c(e),onChange:function(t){return r(t,e)},id:"show-metric-btn-".concat(e.id),variant:"outline-dark",value:1,children:"Yes"}),Object(d.jsx)(_.a,{type:"radio",name:"options",checked:2===c(e),onChange:function(t){return r(t,e)},id:"hide-metric-btn-".concat(e.id),variant:"outline-dark",value:2,children:"No"})]})}),Object(d.jsx)("td",{children:Object(d.jsx)(F.a,{className:"center-vertically center-horizontally",children:Object(d.jsx)(w.a,{variant:"outline-dark",onClick:function(){console.log("delet")},children:Object(d.jsx)(D.a,{size:25})})})})]},e.name)}))})]})},re=n(37);var ce=function(e){var t=e.students,n=(e.handleShowAddStudent,e.setStudents),a=e.metricsToShow;return Object(d.jsxs)(te.a,{striped:!0,bordered:!0,hover:!0,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"id"}),Object(d.jsx)("th",{children:"First Name"}),Object(d.jsx)("th",{children:"Student Metrics"}),Object(d.jsx)("th",{className:"text-center",children:"Remove"})]})}),Object(d.jsx)("tbody",{children:t&&t.map((function(e,r){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.id}),Object(d.jsx)("td",{children:e.name}),Object(d.jsx)("td",{children:Boolean(e.metrics)&&e.metrics.map((function(r,c){if(s=r,a.filter((function(e){return e.id===s.id}))[0])return Object(d.jsxs)(z.a,{children:[Object(d.jsx)(F.a,{children:Object(d.jsx)("p",{children:r.name},c)}),Object(d.jsx)(F.a,{children:Object(d.jsxs)(re.a,{onSelect:function(a){return function(e,a,r){var c=JSON.parse(JSON.stringify(t)),s=c.findIndex((function(e){return e.id===a.id})),i=c[s].metrics.findIndex((function(e){return e.name===r.name}));c[s].metrics[i].score=Number(e),n(c)}(a,e,r)},children:[Object(d.jsx)(re.a.Toggle,{variant:"outline-dark",id:"metric-score",children:r.score}),Object(d.jsxs)(re.a.Menu,{children:[Object(d.jsx)(re.a.Item,{eventKey:"1",children:"1"}),Object(d.jsx)(re.a.Item,{eventKey:"2",children:"2"}),Object(d.jsx)(re.a.Item,{eventKey:"3",children:"3"}),Object(d.jsx)(re.a.Item,{eventKey:"4",children:"4"})]})]})})]});var s}))}),Object(d.jsx)("td",{children:Object(d.jsx)(F.a,{className:"center-vertically center-horizontally",children:Object(d.jsx)(w.a,{variant:"outline-dark",onClick:function(){return function(e){var a=JSON.parse(JSON.stringify(t)),r=a.findIndex((function(t){return t.id===e.id}));a.splice(r,1),n(a)}(e)},children:Object(d.jsx)(D.a,{size:25})})})})]},r)}))})]})};var se=function(e){var t=e.seatingChart;return console.log("seatingChart",t),Object(d.jsx)(p.a,{children:Object(d.jsx)(z.a,{className:"klass-card-deck-style",children:t&&t.students&&t.students.map((function(e){return console.log("table",e),Object(d.jsx)(i.b,{className:"klass-card-style",children:Object(d.jsx)(G.a,{className:"text-center card-sc-width",children:Object(d.jsx)(G.a.Body,{children:e&&e.map((function(e){return console.log("student",e),Object(d.jsx)(G.a.Text,{children:e.name})}))})})},e.id)}))})})};var ie=function(e){var t=e.match,n=b().currentUser,c=Object(a.useRef)(!1),s=Object(a.useRef)(),i=Object(a.useRef)(!1),o=Object(a.useRef)(!1),j=Object(a.useState)({}),u=Object(l.a)(j,2),h=u[0],m=u[1],f=Object(a.useState)([]),v=Object(l.a)(f,2),g=v[0],S=v[1],w=Object(a.useState)(1),y=Object(l.a)(w,2),k=y[0],N=y[1],T=Object(a.useState)([]),I=Object(l.a)(T,2),A=I[0],M=I[1],L=Object(a.useState)([]),B=Object(l.a)(L,2),q=B[0],z=B[1],F=Object(a.useState)({}),G=Object(l.a)(F,2),H=G[0],K=G[1],E=Object(a.useState)(!1),J=Object(l.a)(E,2),R=J[0],P=J[1],D=Object(a.useState)([]),V=Object(l.a)(D,2),Y=V[0],Q=V[1],$=function(){var e=Object(x.a)(O.a.mark((function e(){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.current){e.next=7;break}return a="".concat("http://localhost:9876","/klasses/").concat(t.params.id),e.next=4,C.get(a,n.authToken);case 4:r=e.sent,m(r.data),i.current=!0;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.current){e.next=7;break}return t="".concat("http://localhost:9876","/metrics"),e.next=4,C.get(t,n.authToken);case 4:a=e.sent,S(a.data),s.current=!0;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.current){e.next=7;break}return t="".concat("http://localhost:9876","/students"),e.next=4,C.get(t,n.authToken);case 4:a=e.sent,M(a.data),c.current=!0;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(x.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.current){e.next=7;break}return t="".concat("http://localhost:9876","/seatingcharts"),e.next=4,C.get(t,n.authToken);case 4:a=e.sent,z(a.data),o.current=!0;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){$(),te(),ne(),_()}),[$,te,ne,_]),Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(U,{}),Object(d.jsx)(Z,{klass:h}),Object(d.jsx)(ee,{setStudentsMetricsScsTab:N}),Object(d.jsx)(W,{studentsMetricsScsTab:k,seatingCharts:q,setSeatingChart:K,klass:h}),Object(d.jsxs)(p.a,{children:[2===k&&Object(d.jsx)(se,{seatingChart:H}),1===k&&Object(d.jsx)(ce,{metricsToShow:Y,students:A,setStudents:M,handleShowAddStudent:function(){P(!0)}}),3===k&&Object(d.jsx)(ae,{metrics:g,setMetricsToShow:Q,metricsToShow:Y}),Object(d.jsx)(X,{showAddStudentModal:R,handleCloseAddStudent:function(){P(!1)}})]})]})};var oe=function(){var e=JSON.parse(sessionStorage.getItem("user"));return Object(d.jsx)(u,{user:e,children:Object(d.jsx)(i.a,{children:Object(d.jsx)("div",{children:Object(d.jsxs)(o.d,{children:[Object(d.jsx)(o.b,{exact:!0,path:"/",component:E}),Object(d.jsx)(o.b,{exact:!0,path:"/klasses",component:K}),Object(d.jsx)(o.b,{path:"/klasses/:id",component:ie}),Object(d.jsx)(o.b,{component:J})]})})})})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,137)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};n(118);s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(oe,{})}),document.getElementById("root")),le()},87:function(e,t,n){},88:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.8a64569a.chunk.js.map